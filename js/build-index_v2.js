const J=document.querySelector(".login-btn button.btn-block"),N=document.querySelector(".register-btn button.btn-block"),ie=async(e,t,r,n=null)=>{const s=document.querySelector(`#${r}-error`),a=document.querySelector(`#${r}-loading`);try{a.style.display="block",s.style.display="none",a.style.display="block";const c=await(await fetch(ajax_url+"/"+r,{method:"POST",body:JSON.stringify({...t,nonce:lore_nonce}),headers:{"content-type":"application/json","x-wp-nonce":n||rest_nonce}})).json();c.status?redirect_after_login?location.href=redirect_after_login:location.href="/":(s.textContent=c.message,s.style.display="block")}catch(i){s.textContent=i.message,s.style.display="block"}finally{a.style.display="none"}};J&&J.addEventListener("click",async e=>{e.preventDefault();const t=document.querySelector("#email").value,r=document.querySelector("#password").value,n=!!document.querySelector("#remember").value;await ie("user_login_custom",{user_login:t,user_pass:r,remember:n},"login")});N&&N.addEventListener("click",async e=>{e.preventDefault();const t=document.querySelector("#reg-email").value,r=document.querySelector("#reg-password").value,n=document.querySelector("#reg-username").value,s=document.querySelector("#reg-rep-password").value;if(!r||!s||r!==s){const a=document.querySelector("#register-error");a.textContent="Kata sandi itu wajib dan harus sama!",a.style.display="block";return}await ie("user_register_custom",{user_login:t,user_pass:r,user_name:n},"register")});const I=document.querySelectorAll("[data-kr-target]");I&&I.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const r=t.target.dataset.krTarget;I.forEach(n=>{n.dataset.krTarget===r?document.querySelector(n.dataset.krTarget).style.display="block":document.querySelector(n.dataset.krTarget).style.display="none"})})});var ge={};(function(e){(function(){var t={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function r(c){return s(i(c),arguments)}function n(c,d){return r.apply(null,[c].concat(d||[]))}function s(c,d){var u=1,y=c.length,o,v="",m,b,f,E,A,P,R,l;for(m=0;m<y;m++)if(typeof c[m]=="string")v+=c[m];else if(typeof c[m]=="object"){if(f=c[m],f.keys)for(o=d[u],b=0;b<f.keys.length;b++){if(o==null)throw new Error(r('[sprintf] Cannot access property "%s" of undefined value "%s"',f.keys[b],f.keys[b-1]));o=o[f.keys[b]]}else f.param_no?o=d[f.param_no]:o=d[u++];if(t.not_type.test(f.type)&&t.not_primitive.test(f.type)&&o instanceof Function&&(o=o()),t.numeric_arg.test(f.type)&&typeof o!="number"&&isNaN(o))throw new TypeError(r("[sprintf] expecting number but found %T",o));switch(t.number.test(f.type)&&(R=o>=0),f.type){case"b":o=parseInt(o,10).toString(2);break;case"c":o=String.fromCharCode(parseInt(o,10));break;case"d":case"i":o=parseInt(o,10);break;case"j":o=JSON.stringify(o,null,f.width?parseInt(f.width):0);break;case"e":o=f.precision?parseFloat(o).toExponential(f.precision):parseFloat(o).toExponential();break;case"f":o=f.precision?parseFloat(o).toFixed(f.precision):parseFloat(o);break;case"g":o=f.precision?String(Number(o.toPrecision(f.precision))):parseFloat(o);break;case"o":o=(parseInt(o,10)>>>0).toString(8);break;case"s":o=String(o),o=f.precision?o.substring(0,f.precision):o;break;case"t":o=String(!!o),o=f.precision?o.substring(0,f.precision):o;break;case"T":o=Object.prototype.toString.call(o).slice(8,-1).toLowerCase(),o=f.precision?o.substring(0,f.precision):o;break;case"u":o=parseInt(o,10)>>>0;break;case"v":o=o.valueOf(),o=f.precision?o.substring(0,f.precision):o;break;case"x":o=(parseInt(o,10)>>>0).toString(16);break;case"X":o=(parseInt(o,10)>>>0).toString(16).toUpperCase();break}t.json.test(f.type)?v+=o:(t.number.test(f.type)&&(!R||f.sign)?(l=R?"+":"-",o=o.toString().replace(t.sign,"")):l="",A=f.pad_char?f.pad_char==="0"?"0":f.pad_char.charAt(1):" ",P=f.width-(l+o).length,E=f.width&&P>0?A.repeat(P):"",v+=f.align?l+o+E:A==="0"?l+E+o:E+l+o)}return v}var a=Object.create(null);function i(c){if(a[c])return a[c];for(var d=c,u,y=[],o=0;d;){if((u=t.text.exec(d))!==null)y.push(u[0]);else if((u=t.modulo.exec(d))!==null)y.push("%");else if((u=t.placeholder.exec(d))!==null){if(u[2]){o|=1;var v=[],m=u[2],b=[];if((b=t.key.exec(m))!==null)for(v.push(b[1]);(m=m.substring(b[0].length))!=="";)if((b=t.key_access.exec(m))!==null)v.push(b[1]);else if((b=t.index_access.exec(m))!==null)v.push(b[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");u[2]=v}else o|=2;if(o===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");y.push({placeholder:u[0],param_no:u[1],keys:u[2],sign:u[3],pad_char:u[4],align:u[5],width:u[6],precision:u[7],type:u[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");d=d.substring(u[0].length)}return a[c]=y}e.sprintf=r,e.vsprintf=n,typeof window<"u"&&(window.sprintf=r,window.vsprintf=n)})()})(ge);var j,oe,F,ce;j={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1};oe=["(","?"];F={")":["("],":":["?","?:"]};ce=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/;function me(e){for(var t=[],r=[],n,s,a,i;n=e.match(ce);){for(s=n[0],a=e.substr(0,n.index).trim(),a&&t.push(a);i=r.pop();){if(F[s]){if(F[s][0]===i){s=F[s][1]||s;break}}else if(oe.indexOf(i)>=0||j[i]<j[s]){r.push(i);break}t.push(i)}F[s]||r.push(s),e=e.substr(n.index+s.length)}return e=e.trim(),e&&t.push(e),t.concat(r.reverse())}var _e={"!":function(e){return!e},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e===t},"!=":function(e,t){return e!==t},"&&":function(e,t){return e&&t},"||":function(e,t){return e||t},"?:":function(e,t,r){if(e)throw t;return r}};function we(e,t){var r=[],n,s,a,i,c,d;for(n=0;n<e.length;n++){if(c=e[n],i=_e[c],i){for(s=i.length,a=Array(s);s--;)a[s]=r.pop();try{d=i.apply(null,a)}catch(u){return u}}else t.hasOwnProperty(c)?d=t[c]:d=+c;r.push(d)}return r[0]}function be(e){var t=me(e);return function(r){return we(t,r)}}function ke(e){var t=be(e);return function(r){return+t({n:r})}}var Q={contextDelimiter:"",onMissingKey:null};function ve(e){var t,r,n;for(t=e.split(";"),r=0;r<t.length;r++)if(n=t[r].trim(),n.indexOf("plural=")===0)return n.substr(7)}function D(e,t){var r;this.data=e,this.pluralForms={},this.options={};for(r in Q)this.options[r]=t!==void 0&&r in t?t[r]:Q[r]}D.prototype.getPluralForm=function(e,t){var r=this.pluralForms[e],n,s,a;return r||(n=this.data[e][""],a=n["Plural-Forms"]||n["plural-forms"]||n.plural_forms,typeof a!="function"&&(s=ve(n["Plural-Forms"]||n["plural-forms"]||n.plural_forms),a=ke(s)),r=this.pluralForms[e]=a),r(t)};D.prototype.dcnpgettext=function(e,t,r,n,s){var a,i,c;return s===void 0?a=0:a=this.getPluralForm(e,s),i=r,t&&(i=t+this.options.contextDelimiter+r),c=this.data[e][i],c&&c[a]?c[a]:(this.options.onMissingKey&&this.options.onMissingKey(r,e),a===0?r:n)};const B={"":{plural_forms(e){return e===1?0:1}}},Se=/^i18n\.(n?gettext|has_translation)(_|$)/,xe=(e,t,r)=>{const n=new D({}),s=new Set,a=()=>{s.forEach(l=>l())},i=l=>(s.add(l),()=>s.delete(l)),c=(l="default")=>n.data[l],d=(l,p="default")=>{var h;n.data[p]={...n.data[p],...l},n.data[p][""]={...B[""],...(h=n.data[p])==null?void 0:h[""]},delete n.pluralForms[p]},u=(l,p)=>{d(l,p),a()},y=(l,p="default")=>{var h;n.data[p]={...n.data[p],...l,"":{...B[""],...(h=n.data[p])==null?void 0:h[""],...l==null?void 0:l[""]}},delete n.pluralForms[p],a()},o=(l,p)=>{n.data={},n.pluralForms={},u(l,p)},v=(l="default",p,h,_,w)=>(n.data[l]||d(void 0,l),n.dcnpgettext(l,p,h,_,w)),m=(l="default")=>l,b=(l,p)=>{let h=v(p,void 0,l);return r?(h=r.applyFilters("i18n.gettext",h,l,p),r.applyFilters("i18n.gettext_"+m(p),h,l,p)):h},f=(l,p,h)=>{let _=v(h,p,l);return r?(_=r.applyFilters("i18n.gettext_with_context",_,l,p,h),r.applyFilters("i18n.gettext_with_context_"+m(h),_,l,p,h)):_},E=(l,p,h,_)=>{let w=v(_,void 0,l,p,h);return r?(w=r.applyFilters("i18n.ngettext",w,l,p,h,_),r.applyFilters("i18n.ngettext_"+m(_),w,l,p,h,_)):w},A=(l,p,h,_,w)=>{let x=v(w,_,l,p,h);return r?(x=r.applyFilters("i18n.ngettext_with_context",x,l,p,h,_,w),r.applyFilters("i18n.ngettext_with_context_"+m(w),x,l,p,h,_,w)):x},P=()=>f("ltr","text direction")==="rtl",R=(l,p,h)=>{var x,z;const _=p?p+""+l:l;let w=!!((z=(x=n.data)==null?void 0:x[h??"default"])!=null&&z[_]);return r&&(w=r.applyFilters("i18n.has_translation",w,l,p,h),w=r.applyFilters("i18n.has_translation_"+m(h),w,l,p,h)),w};if(e&&u(e,t),r){const l=p=>{Se.test(p)&&a()};r.addAction("hookAdded","core/i18n",l),r.addAction("hookRemoved","core/i18n",l)}return{getLocaleData:c,setLocaleData:u,addLocaleData:y,resetLocaleData:o,subscribe:i,__:b,_x:f,_n:E,_nx:A,isRTL:P,hasTranslation:R}};function le(e){return typeof e!="string"||e===""?(console.error("The namespace must be a non-empty string."),!1):/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(e)?!0:(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)}function L(e){return typeof e!="string"||e===""?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(e)?(console.error("The hook name cannot begin with `__`."),!1):/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(e)?!0:(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)}function K(e,t){return function(n,s,a,i=10){const c=e[t];if(!L(n)||!le(s))return;if(typeof a!="function"){console.error("The hook callback must be a function.");return}if(typeof i!="number"){console.error("If specified, the hook priority must be a number.");return}const d={callback:a,priority:i,namespace:s};if(c[n]){const u=c[n].handlers;let y;for(y=u.length;y>0&&!(i>=u[y-1].priority);y--);y===u.length?u[y]=d:u.splice(y,0,d),c.__current.forEach(o=>{o.name===n&&o.currentIndex>=y&&o.currentIndex++})}else c[n]={handlers:[d],runs:0};n!=="hookAdded"&&e.doAction("hookAdded",n,s,a,i)}}function M(e,t,r=!1){return function(s,a){const i=e[t];if(!L(s)||!r&&!le(a))return;if(!i[s])return 0;let c=0;if(r)c=i[s].handlers.length,i[s]={runs:i[s].runs,handlers:[]};else{const d=i[s].handlers;for(let u=d.length-1;u>=0;u--)d[u].namespace===a&&(d.splice(u,1),c++,i.__current.forEach(y=>{y.name===s&&y.currentIndex>=u&&y.currentIndex--}))}return s!=="hookRemoved"&&e.doAction("hookRemoved",s,a),c}}function X(e,t){return function(n,s){const a=e[t];return typeof s<"u"?n in a&&a[n].handlers.some(i=>i.namespace===s):n in a}}function G(e,t,r=!1){return function(s,...a){const i=e[t];i[s]||(i[s]={handlers:[],runs:0}),i[s].runs++;const c=i[s].handlers;if(!c||!c.length)return r?a[0]:void 0;const d={name:s,currentIndex:0};for(i.__current.push(d);d.currentIndex<c.length;){const y=c[d.currentIndex].callback.apply(null,a);r&&(a[0]=y),d.currentIndex++}if(i.__current.pop(),r)return a[0]}}function V(e,t){return function(){var a;var n;const s=e[t];return(n=(a=s.__current[s.__current.length-1])==null?void 0:a.name)!==null&&n!==void 0?n:null}}function Z(e,t){return function(n){const s=e[t];return typeof n>"u"?typeof s.__current[0]<"u":s.__current[0]?n===s.__current[0].name:!1}}function Y(e,t){return function(n){const s=e[t];if(L(n))return s[n]&&s[n].runs?s[n].runs:0}}class Te{constructor(){this.actions=Object.create(null),this.actions.__current=[],this.filters=Object.create(null),this.filters.__current=[],this.addAction=K(this,"actions"),this.addFilter=K(this,"filters"),this.removeAction=M(this,"actions"),this.removeFilter=M(this,"filters"),this.hasAction=X(this,"actions"),this.hasFilter=X(this,"filters"),this.removeAllActions=M(this,"actions",!0),this.removeAllFilters=M(this,"filters",!0),this.doAction=G(this,"actions"),this.applyFilters=G(this,"filters",!0),this.currentAction=V(this,"actions"),this.currentFilter=V(this,"filters"),this.doingAction=Z(this,"actions"),this.doingFilter=Z(this,"filters"),this.didAction=Y(this,"actions"),this.didFilter=Y(this,"filters")}}function Ee(){return new Te}const Oe=Ee(),g=xe(void 0,void 0,Oe);g.getLocaleData.bind(g);g.setLocaleData.bind(g);g.resetLocaleData.bind(g);g.subscribe.bind(g);const H=g.__.bind(g);g._x.bind(g);g._n.bind(g);g._nx.bind(g);g.isRTL.bind(g);g.hasTranslation.bind(g);function Ae(e){const t=(r,n)=>{const{headers:s={}}=r;for(const a in s)if(a.toLowerCase()==="x-wp-nonce"&&s[a]===t.nonce)return n(r);return n({...r,headers:{...s,"X-WP-Nonce":t.nonce}})};return t.nonce=e,t}const ue=(e,t)=>{let r=e.path,n,s;return typeof e.namespace=="string"&&typeof e.endpoint=="string"&&(n=e.namespace.replace(/^\/|\/$/g,""),s=e.endpoint.replace(/^\//,""),s?r=n+"/"+s:r=n),delete e.namespace,delete e.endpoint,t({...e,path:r})},Pe=e=>(t,r)=>ue(t,n=>{let s=n.url,a=n.path,i;return typeof a=="string"&&(i=e,e.indexOf("?")!==-1&&(a=a.replace("?","&")),a=a.replace(/^\//,""),typeof i=="string"&&i.indexOf("?")!==-1&&(a=a.replace("?","&")),s=i+a),r({...n,url:s})});function Re(e){let t;try{t=new URL(e,"http://example.com").search.substring(1)}catch{}if(t)return t}function Fe(e){let t="";const r=Object.entries(e);let n;for(;n=r.shift();){let[s,a]=n;if(Array.isArray(a)||a&&a.constructor===Object){const c=Object.entries(a).reverse();for(const[d,u]of c)r.unshift([`${s}[${d}]`,u])}else a!==void 0&&(a===null&&(a=""),t+="&"+[s,a].map(encodeURIComponent).join("="))}return t.substr(1)}function Me(e){try{return decodeURIComponent(e)}catch{return e}}function qe(e,t,r){const n=t.length,s=n-1;for(let a=0;a<n;a++){let i=t[a];!i&&Array.isArray(e)&&(i=e.length.toString()),i=["__proto__","constructor","prototype"].includes(i)?i.toUpperCase():i;const c=!isNaN(Number(t[a+1]));e[i]=a===s?r:e[i]||(c?[]:{}),Array.isArray(e[i])&&!c&&(e[i]={...e[i]}),e=e[i]}}function U(e){return(Re(e)||"").replace(/\+/g,"%20").split("&").reduce((t,r)=>{const[n,s=""]=r.split("=").filter(Boolean).map(Me);if(n){const a=n.replace(/\]/g,"").split("[");qe(t,a,s)}return t},Object.create(null))}function T(e="",t){if(!t||!Object.keys(t).length)return e;let r=e;const n=e.indexOf("?");return n!==-1&&(t=Object.assign(U(e),t),r=r.substr(0,n)),r+"?"+Fe(t)}function He(e,t){return U(e)[t]}function q(e,t){return He(e,t)!==void 0}function W(e){const t=e.split("?"),r=t[1],n=t[0];return r?n+"?"+r.split("&").map(s=>s.split("=")).map(s=>s.map(decodeURIComponent)).sort((s,a)=>s[0].localeCompare(a[0])).map(s=>s.map(encodeURIComponent)).map(s=>s.join("=")).join("&"):n}function Ie(e){const t=Object.fromEntries(Object.entries(e).map(([r,n])=>[W(r),n]));return(r,n)=>{const{parse:s=!0}=r;let a=r.path;if(!a&&r.url){const{rest_route:d,...u}=U(r.url);typeof d=="string"&&(a=T(d,u))}if(typeof a!="string")return n(r);const i=r.method||"GET",c=W(a);if(i==="GET"&&t[c]){const d=t[c];return delete t[c],ee(d,!!s)}else if(i==="OPTIONS"&&t[i]&&t[i][c]){const d=t[i][c];return delete t[i][c],ee(d,!!s)}return n(r)}}function ee(e,t){return Promise.resolve(t?e.body:new window.Response(JSON.stringify(e.body),{status:200,statusText:"OK",headers:e.headers}))}const Ce=({path:e,url:t,...r},n)=>({...r,url:t&&T(t,n),path:e&&T(e,n)}),te=e=>e.json?e.json():Promise.reject(e),je=e=>{if(!e)return{};const t=e.match(/<([^>]+)>; rel="next"/);return t?{next:t[1]}:{}},re=e=>{const{next:t}=je(e.headers.get("link"));return t},De=e=>{const t=!!e.path&&e.path.indexOf("per_page=-1")!==-1,r=!!e.url&&e.url.indexOf("per_page=-1")!==-1;return t||r},de=async(e,t)=>{if(e.parse===!1||!De(e))return t(e);const r=await k({...Ce(e,{per_page:100}),parse:!1}),n=await te(r);if(!Array.isArray(n))return n;let s=re(r);if(!s)return n;let a=[].concat(n);for(;s;){const i=await k({...e,path:void 0,url:s,parse:!1}),c=await te(i);a=a.concat(c),s=re(i)}return a},Le=new Set(["PATCH","PUT","DELETE"]),Ue="GET",$e=(e,t)=>{const{method:r=Ue}=e;return Le.has(r.toUpperCase())&&(e={...e,headers:{...e.headers,"X-HTTP-Method-Override":r,"Content-Type":"application/json"},method:"POST"}),t(e)},ze=(e,t)=>(typeof e.url=="string"&&!q(e.url,"_locale")&&(e.url=T(e.url,{_locale:"user"})),typeof e.path=="string"&&!q(e.path,"_locale")&&(e.path=T(e.path,{_locale:"user"})),t(e)),Je=(e,t=!0)=>t?e.status===204?null:e.json?e.json():Promise.reject(e):e,Ne=e=>{const t={code:"invalid_json",message:H("The response is not a valid JSON response.")};if(!e||!e.json)throw t;return e.json().catch(()=>{throw t})},fe=(e,t=!0)=>Promise.resolve(Je(e,t)).catch(r=>$(r,t));function $(e,t=!0){if(!t)throw e;return Ne(e).then(r=>{const n={code:"unknown_error",message:H("An unknown error occurred.")};throw r||n})}function Qe(e){const t=!!e.method&&e.method==="POST";return(!!e.path&&e.path.indexOf("/wp/v2/media")!==-1||!!e.url&&e.url.indexOf("/wp/v2/media")!==-1)&&t}const Be=(e,t)=>{if(!Qe(e))return t(e);let r=0;const n=5,s=a=>(r++,t({path:`/wp/v2/media/${a}/post-process`,method:"POST",data:{action:"create-image-subsizes"},parse:!1}).catch(()=>r<n?s(a):(t({path:`/wp/v2/media/${a}?force=true`,method:"DELETE"}),Promise.reject())));return t({...e,parse:!1}).catch(a=>{const i=a.headers.get("x-wp-upload-attachment-id");return a.status>=500&&a.status<600&&i?s(i).catch(()=>e.parse!==!1?Promise.reject({code:"post_process",message:H("Media upload failed. If this is a photo or a large image, please scale it down and try again.")}):Promise.reject(a)):$(a,e.parse)}).then(a=>fe(a,e.parse))},Ke=e=>(t,r)=>(typeof t.url=="string"&&!q(t.url,"wp_theme_preview")&&(t.url=T(t.url,{wp_theme_preview:e})),typeof t.path=="string"&&!q(t.path,"wp_theme_preview")&&(t.path=T(t.path,{wp_theme_preview:e})),r(t)),Xe={Accept:"application/json, */*;q=0.1"},Ge={credentials:"include"},pe=[ze,ue,$e,de];function Ve(e){pe.unshift(e)}const he=e=>{if(e.status>=200&&e.status<300)return e;throw e},Ze=e=>{const{url:t,path:r,data:n,parse:s=!0,...a}=e;let{body:i,headers:c}=e;return c={...Xe,...c},n&&(i=JSON.stringify(n),c["Content-Type"]="application/json"),window.fetch(t||r||window.location.href,{...Ge,...a,body:i,headers:c}).then(u=>Promise.resolve(u).then(he).catch(y=>$(y,s)).then(y=>fe(y,s)),u=>{throw u&&u.name==="AbortError"?u:{code:"fetch_error",message:H("You are probably offline.")}})};let ye=Ze;function Ye(e){ye=e}function k(e){return pe.reduceRight((r,n)=>s=>n(s,r),ye)(e).catch(r=>r.code!=="rest_cookie_invalid_nonce"?Promise.reject(r):window.fetch(k.nonceEndpoint).then(he).then(n=>n.text()).then(n=>(k.nonceMiddleware.nonce=n,k(e))))}k.use=Ve;k.setFetchHandler=Ye;k.createNonceMiddleware=Ae;k.createPreloadingMiddleware=Ie;k.createRootURLMiddleware=Pe;k.fetchAllMiddleware=de;k.mediaUploadMiddleware=Be;k.createThemePreviewMiddleware=Ke;const S=k;S.use(k.createNonceMiddleware(wp_rest_nonce));S.use(k.createRootURLMiddleware(tukutema_rest));localStorage||(document.getElementById("bookmark").dataset.nolocal=!0);const O=document.getElementById("bookmark");O&&komik_id&&O.addEventListener("click",async e=>{if(e.preventDefault(),!is_user_logged_in){location.href=redirect_url;return}try{const t=e.target.dataset.bookmarked==="true"?"PUT":"POST",r=await S({path:"bookmark/"+komik_id,method:t});if(r.status)t==="PUT"?(O.innerHTML='<i class="fas fa-heart"></i> Bookmark',O.dataset.bookmarked=!1):(O.innerHTML='<i class="fas fa-heart"></i> Bookmarked',O.dataset.bookmarked=!0);else{alert(r.message);return}}catch(t){alert(t.message)}});const C=document.querySelector("#resetModal .modal-footer .btn-primary");if(C){console.log(C);const e=document.querySelector("#resetModal .alert.alert-danger"),t=document.querySelector("#resetModal .alert.alert-success"),r=document.querySelector("#resetModal .alert.alert-info"),n=document.querySelector("#resetModal .form-group");C.addEventListener("click",async s=>{s.preventDefault(),e.style.display="none",r.style.display="none",t.style.display="none";const a=document.querySelector("#resetbookmarkpassword").value;if(!a){e.textContent="Masukkan password!",e.style.display="block";return}n.style.display="none";try{r.textContent="Sedang reset bookmark...";const i=await S({path:"bookmark/reset",data:{password:a},method:"POST"});i.status?(t.textContent=i.message,t.style.display="block",setTimeout(()=>{location.reload()},2e3)):(e.textContent=i.message,e.style.display="block")}catch(i){e.textContent=i.message,e.style.display="block"}finally{r.style.display="none",n.style.display="block"}})}const We=async()=>{try{await S({path:"read/"+chapter_id,method:"POST"})}catch(e){console.log(e)}},ne=async(e=0)=>{try{const t=e||chapter_id;await S({path:"history/"+t,method:"POST"})}catch(t){console.log(t)}},se=(e=[],t=!1)=>{document.querySelectorAll(".komik_info-chapters-item").forEach(n=>{e.includes(parseInt(n.dataset.visited))&&n.classList.add("visited")}),t&&localStorage.removeItem("visited-chapters")};if(is_user_logged_in){if("localStorage"in window&&localStorage.getItem("visited-chapters")){const e=JSON.parse(localStorage.getItem("visited-chapters"));(async r=>{for(const n of r)try{const s=await S({path:"read/"+n,method:"POST"});await ne(n)}catch(s){console.log(s)}})(readData),se(e,!0)}typeof chapter_id<"u"&&(We(),ne())}else{const e=localStorage.getItem("visited-chapters");if(!e&&typeof chapter_id<"u"){const t=[chapter_id];localStorage.setItem("visited-chapters",JSON.stringify(t))}else{const t=JSON.parse(e);typeof chapter_id<"u"&&(t.includes(chapter_id)||t.push(chapter_id),localStorage.setItem("visited-chapters",JSON.stringify(t))),se(t)}}const ae=document.querySelector("#resetHistory .modal-footer .btn-primary");if(ae){const e=document.querySelector("#resetHistory .alert.alert-danger"),t=document.querySelector("#resetHistory .alert.alert-success"),r=document.querySelector("#resetHistory .alert.alert-info"),n=document.querySelector("#resetHistory .form-group");ae.addEventListener("click",async s=>{s.preventDefault(),e.style.display="none",r.style.display="none",t.style.display="none";const a=document.querySelector("#resethistorypassword").value;if(!a){e.textContent="Masukkan password!",e.style.display="block";return}n.style.display="none";try{r.textContent="Sedang reset historymu...";const i=await S({path:"history/reset",data:{password:a},method:"POST"});i.status?(t.textContent=i.message,t.style.display="block",setTimeout(()=>{location.reload()},2e3)):(e.textContent=i.message,e.style.display="block")}catch(i){e.textContent=i.message,e.style.display="block"}finally{r.style.display="none",n.style.display="block"}})}
